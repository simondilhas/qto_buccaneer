<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
<meta name="generator" content="pdoc3 0.11.6">
<title>qto_buccaneer.configs API documentation</title>
<meta name="description" content="Configuration Overview â€¦">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/sanitize.min.css" integrity="sha512-y1dtMcuvtTMJc1yPgEqF0ZjQbhnc/bFhyvIyVNb9Zk5mIGtqVaAB1Ttl28su8AvFMOY0EwRbAe+HCLqj6W7/KA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/typography.min.css" integrity="sha512-Y1DYSb995BAfxobCkKepB1BqJJTPrOp3zPL74AWFugHHmmdcvO+C48WLrUOlhGMc0QG7AE3f7gmvvcrmX2fDoA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:1.5em;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:2em 0 .50em 0}h3{font-size:1.4em;margin:1.6em 0 .7em 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .2s ease-in-out}a:visited{color:#503}a:hover{color:#b62}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900;font-weight:bold}pre code{font-size:.8em;line-height:1.4em;padding:1em;display:block}code{background:#f3f3f3;font-family:"DejaVu Sans Mono",monospace;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source > summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible;min-width:max-content}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em 1em;margin:1em 0}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul ul{padding-left:1em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js" integrity="sha512-D9gUyxqja7hBtkWpPWGt9wfbfaMGVt9gnyCvYa+jojwwPHLCzUm5i8rpk7vD7wNee9bA35eYIjobYPaQuKS1MQ==" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => {
hljs.configure({languages: ['bash', 'css', 'diff', 'graphql', 'ini', 'javascript', 'json', 'plaintext', 'python', 'python-repl', 'rust', 'shell', 'sql', 'typescript', 'xml', 'yaml']});
hljs.highlightAll();
/* Collapse source docstrings */
setTimeout(() => {
[...document.querySelectorAll('.hljs.language-python > .hljs-string')]
.filter(el => el.innerHTML.length > 200 && ['"""', "'''"].includes(el.innerHTML.substring(0, 3)))
.forEach(el => {
let d = document.createElement('details');
d.classList.add('hljs-string');
d.innerHTML = '<summary>"""</summary>' + el.innerHTML.substring(3);
el.replaceWith(d);
});
}, 100);
})</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>qto_buccaneer.configs</code></h1>
</header>
<section id="section-intro">
<h1 id="configuration-overview">Configuration Overview</h1>
<h2 id="1-metric-configurations-metrics_config_abstractbimyaml">1. Metric Configurations (metrics_config_abstractBIM.yaml)</h2>
<ul>
<li><strong>Standard metrics</strong>: Single-value calculations for the entire project</li>
<li><strong>Room-based metrics</strong>: Calculations grouped by room</li>
<li><strong>Grouped-by-attribute metrics</strong>: Calculations grouped by specific attributes</li>
<li><strong>Derived metrics</strong>: Metrics calculated from other metrics using formulas</li>
</ul>
<h2 id="2-configuration-structure">2. Configuration Structure</h2>
<p>Each metric is defined with the following keys:</p>
<ul>
<li><strong>description</strong></li>
<li>
<p>A short description of the metric</p>
</li>
<li>
<p><strong>quantity_type</strong></p>
</li>
<li>
<p>Type of quantity ("area", "volume", "count")</p>
</li>
<li>
<p><strong>ifc_entity</strong></p>
</li>
<li>
<p>IFC entity type (e.g., "IfcWall", "IfcSlab")</p>
</li>
<li>
<p><strong>pset_name</strong></p>
</li>
<li>
<p>Property Set name (optional for attributes)</p>
</li>
<li>
<p><strong>prop_name</strong></p>
</li>
<li>
<p>Property or attribute name</p>
</li>
<li>
<p><strong>include_filter</strong></p>
</li>
<li>
<p>Conditions for including elements</p>
</li>
<li>
<p><strong>include_filter_logic</strong></p>
</li>
<li>
<p>Logic for combining include filters ("AND"/"OR")</p>
</li>
<li>
<p><strong>subtract_filter</strong></p>
</li>
<li>
<p>Conditions for subtracting elements</p>
</li>
<li>
<p><strong>subtract_filter_logic</strong></p>
</li>
<li>Logic for combining subtract filters ("AND"/"OR")</li>
</ul>
<h2 id="3-filter-types-and-examples">3. Filter Types and Examples</h2>
<h3 id="simple-key-value">Simple key-value:</h3>
<pre><code class="language-yaml">include_filter:
    PredefinedType: &quot;INTERNAL&quot;
</code></pre>
<h3 id="multiple-values">Multiple values:</h3>
<pre><code class="language-yaml">subtract_filter:
    Name: [&quot;LUF&quot;, &quot;Void&quot;]
</code></pre>
<h3 id="boolean-value">Boolean value:</h3>
<pre><code class="language-yaml">include_filter:
    Pset_CoveringCommon.IsExternal: true
</code></pre>
<h3 id="conditional-operators">Conditional operators:</h3>
<pre><code class="language-yaml">subtract_filter:
    Thickness: [&quot;&lt;&quot;, 0.1]
</code></pre>
<h2 id="4-metric-types">4. Metric Types</h2>
<h3 id="standard-metrics">Standard Metrics</h3>
<p>Single value for entire project</p>
<pre><code class="language-yaml">metrics:
  gross_floor_area:
    description: &quot;The gross floor area excluding voids&quot;
    quantity_type: &quot;area&quot;
    ifc_entity: &quot;IfcSpace&quot;
    pset_name: &quot;Qto_SpaceBaseQuantities&quot;
    prop_name: &quot;NetFloorArea&quot;
    include_filter:
      Name: &quot;GrossArea&quot;
    subtract_filter:
      Name: [&quot;LUF&quot;, &quot;Void&quot;, &quot;Luftraum&quot;]
</code></pre>
<h3 id="room-based-metrics">Room-Based Metrics</h3>
<p>Grouped by room attributes</p>
<pre><code class="language-yaml">room_based_metrics:
  windows_area_by_room:
    description: &quot;Get windows grouped by room&quot;
    ifc_entity: &quot;IfcWindow&quot;
    grouping_attribute: &quot;GlobalId&quot;
    pset_name: &quot;Qto_WindowBaseQuantities&quot;
    prop_name: &quot;Area&quot;
</code></pre>
<h3 id="grouped-by-attribute-metrics">Grouped-by-Attribute Metrics</h3>
<p>Grouped by specific element attributes</p>
<pre><code class="language-yaml">grouped_by_attribute_metrics:
  facade_net_area_by_direction:
    description: &quot;Get facade gross area grouped by direction&quot;
    ifc_entity: &quot;IfcCovering&quot;
    grouping_attribute: &quot;Pset_abstractBIM.Normal&quot;
    pset_name: &quot;Qto_CoveringBaseQuantities&quot;
    prop_name: &quot;NetArea&quot;
    include_filter:
      PredefinedType: &quot;CLADDING&quot;
      Pset_CoveringCommon.IsExternal: true
    include_filter_logic: &quot;AND&quot; 
</code></pre>
<h3 id="derived-metrics">Derived Metrics</h3>
<p>Calculated using formulas from other metrics</p>
<pre><code class="language-yaml">derived_metrics:
  construction_area:
    description: &quot;The total construction area. Relevance: Helps assess structural and usable footprint. Typical use: Estimating construction costs and comparing project scales.&quot;
    formula: &quot;gross_floor_area - space_interior_floor_area&quot;
</code></pre>
<p>Note: When adding new metrics, ensure they follow the appropriate structure based on
their type and include all required fields. The configuration system validates the
structure and relationships between metrics during loading.</p>
</section>
<section>
<h2 class="section-title" id="header-submodules">Sub-modules</h2>
<dl>
<dt><code class="name"><a title="qto_buccaneer.configs.validate_config_file" href="validate_config_file.html">qto_buccaneer.configs.validate_config_file</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<div class="toc">
<ul>
<li><a href="#configuration-overview">Configuration Overview</a><ul>
<li><a href="#1-metric-configurations-metrics_config_abstractbimyaml">1. Metric Configurations (metrics_config_abstractBIM.yaml)</a></li>
<li><a href="#2-configuration-structure">2. Configuration Structure</a></li>
<li><a href="#3-filter-types-and-examples">3. Filter Types and Examples</a><ul>
<li><a href="#simple-key-value">Simple key-value:</a></li>
<li><a href="#multiple-values">Multiple values:</a></li>
<li><a href="#boolean-value">Boolean value:</a></li>
<li><a href="#conditional-operators">Conditional operators:</a></li>
</ul>
</li>
<li><a href="#4-metric-types">4. Metric Types</a><ul>
<li><a href="#standard-metrics">Standard Metrics</a></li>
<li><a href="#room-based-metrics">Room-Based Metrics</a></li>
<li><a href="#grouped-by-attribute-metrics">Grouped-by-Attribute Metrics</a></li>
<li><a href="#derived-metrics">Derived Metrics</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="qto_buccaneer" href="../index.html">qto_buccaneer</a></code></li>
</ul>
</li>
<li><h3><a href="#header-submodules">Sub-modules</a></h3>
<ul>
<li><code><a title="qto_buccaneer.configs.validate_config_file" href="validate_config_file.html">qto_buccaneer.configs.validate_config_file</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.11.6</a>.</p>
</footer>
</body>
</html>
